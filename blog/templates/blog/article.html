{% extends 'blog/base.html' %}
{% load staticfiles %}
{% load mptt_tags %}
    {% block content %}

<main class="mdl-layout__content">
    <div class="mdl-grid portfolio-max-width portfolio-contact">
        <div class="mdl-cell mdl-cell--12-col mdl-card mdl-shadow--4dp">

        <div class="mdl-card__title">
            <h2 class="mdl-cell mdl-cell--12-col mdl-typography--headline">{{ post.title }}</h2>
       

            <div class="mdl-cell mdl-cell--8-col mdl-card__supporting-text no-padding ">
            <p>{{ post.author}} Posted at {{ post.created_time }}  Category: {{ post.category }} </p>
            </div>
        </div>

        <div class="mdl-card__media">
            <img class="article-image" src='/{{ post.cover }}' border="0" alt="">
        </div>

        <div class="mdl-card__supporting-text">
	       {{ post.content }}
        </div>

    <div class="mdl-grid portfolio-copy">
    <h3 class="mdl-cell mdl-cell--12-col mdl-typography--headline">Comment</h3>

    {% if comments %}
    <ul>
        {% recursetree comments %}
            <li>
                <h4>{{node.id}}: {{ node.content }}<input type="submit" value="reply" class="mdl-button mdl-js-button mdl-button--primary">   </h4>                
                {% if not node.is_leaf_node %}
                <p>Posted by <U><strong>{{ node.author }}</strong></U> at {{ node.created_time }}</p>

                <ul>
                {{ children }}
                <p>Posted by <U><strong>{{ children.author }}</strong></U> at {{children.created_time}}</p>
                </ul>
                {% endif %}
            </li>
        {% endrecursetree %}
    </ul>
    {% else %}
    <div class="mdl-cell mdl-cell--12-col mdl-card__supporting-text no-padding ">
    <p>No Comment!</p>
    </div>
    {% endif %}

<!--
    <div class="mdl-grid portfolio-copy">
    <h3 class="mdl-cell mdl-cell--12-col mdl-typography--headline">Comment</h3>
        {% if comments %}
        {% for comment in comments %}
        <div class="mdl-cell mdl-cell--12-col mdl-card__supporting-text no-padding ">
        <h4>{{comment.id}}: {{ comment.content }}</h4>
        <p>Posted by <U><strong>{{ comment.author }}</strong></U> at {{comment.created_time}}</p>
        </div>
        {% endfor %}
        {% else %}
        <div class="mdl-cell mdl-cell--12-col mdl-card__supporting-text no-padding ">
        <p>No Comment!</p>
        </div>
        {% endif %}
-->
    <h3 class="mdl-cell mdl-cell--12-col mdl-typography--headline">Add Comment</h3>

    <div class="mdl-card__supporting-text">


	<form action="." method="post">
    {% csrf_token %}
    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
        <input class="mdl-textfield__input" type="text" id="id_{{ form.author.name }}" name="{{ form.author.name }}" value="{% if form.author.value != None %}{{ form.author.value }}{% endif %}">
        <label class="mdl-textfield__label" for="id_{{ form.author.name }}">Name</label>
    </div>
    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
        <input class="mdl-textfield__input" type="text" id="id_{{ form.email.name }}" name="{{ form.email.name }}" value="{% if form.email.value != None %}{{ form.email.value }}{% endif %}" >
        <label class="mdl-textfield__label" for="id_{{ form.email.name }}">Email</label>
    </div>
    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
        <input class="mdl-textfield__input" type="text" rows="5" id="id_{{ form.content.name }}" name="{{ form.content.name }}" value="{% if form.content.value != None %}{{ form.content.value }}{% endif %}">
        <label class="mdl-textfield__label" for="id_{{ form.content.name }}">Comment</label>
    </div>
    <center>
        <input type="submit" value="submit" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" />   
    </center>
	</form>
    </div>
    </div>


</div>
</div>
</main>
    {% endblock %}